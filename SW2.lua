apiRequest(0.1)

local eeObj = getEEObject()
local emuObj = getEmuObject()

local patcher = function()
--Load merge menus
eeObj.WriteMem32(0x00397E80, 0x00000001)
--Merge's Data
eeObj.WriteMem32(0x005C1E28, 0x65300000)
eeObj.WriteMem32(0x005C1E58, 0x65300000)
eeObj.WriteMem32(0x005EC270, 0x05030100)
eeObj.WriteMem32(0x005EC2A0, 0x04030100)
eeObj.WriteMem32(0x005EC2D0, 0x04030100)
eeObj.WriteMem32(0x005EC300, 0x05030100)
eeObj.WriteMem32(0x00614320, 0x05030100)
eeObj.WriteMem32(0x00614350, 0x05030100)
eeObj.WriteMem32(0x00614380, 0x05030100)
eeObj.WriteMem32(0x006143B0, 0x04030100)
eeObj.WriteMem32(0x00584DB0, 0x00000010)
eeObj.WriteMem32(0x00584DB4, 0x06010000)
eeObj.WriteMem32(0x00584DC0, 0x00000010)
eeObj.WriteMem32(0x00584DC4, 0x06010000)
eeObj.WriteMem32(0x00584DD0, 0x00000010)
eeObj.WriteMem32(0x00584DD4, 0x06010000)
eeObj.WriteMem32(0x00584DD8, 0x00000010)
eeObj.WriteMem32(0x00584DDC, 0x06010000)
eeObj.WriteMem32(0x00584DE0, 0x00000010)
eeObj.WriteMem32(0x00584DE4, 0x06010000)
eeObj.WriteMem32(0x00584DE8, 0x00000010)
eeObj.WriteMem32(0x00584DEC, 0x06010000)
eeObj.WriteMem32(0x00584DF0, 0x00000010)
eeObj.WriteMem32(0x00584DF4, 0x06010000)
eeObj.WriteMem32(0x00584E00, 0x00000010)
eeObj.WriteMem32(0x00584E04, 0x06010000)
eeObj.WriteMem32(0x00584E10, 0x00000010)
eeObj.WriteMem32(0x00584E14, 0x06010000)
eeObj.WriteMem32(0x00584E20, 0x00000010)
eeObj.WriteMem32(0x00584E24, 0x06010000)
eeObj.WriteMem32(0x00584E28, 0x00000010)
eeObj.WriteMem32(0x00584E2C, 0x06010000)
eeObj.WriteMem32(0x00584E30, 0x00000010)
eeObj.WriteMem32(0x00584E34, 0x06010000)
eeObj.WriteMem32(0x00584E38, 0x00000010)
eeObj.WriteMem32(0x00584E3C, 0x06010000)
eeObj.WriteMem32(0x00584E40, 0x00000010)
eeObj.WriteMem32(0x00584E44, 0x06010000)
eeObj.WriteMem32(0x00584E50, 0x00000010)
eeObj.WriteMem32(0x00584E54, 0x06010000)
eeObj.WriteMem32(0x00584E60, 0x00000010)
eeObj.WriteMem32(0x00584E64, 0x06010000)
eeObj.WriteMem32(0x00584E70, 0x00000010)
eeObj.WriteMem32(0x00584E74, 0x06010000)
eeObj.WriteMem32(0x00584E80, 0x00000010)
eeObj.WriteMem32(0x00584E84, 0x06010000)
eeObj.WriteMem32(0x00584E90, 0x00000010)
eeObj.WriteMem32(0x00584E94, 0x06010000)
eeObj.WriteMem32(0x00584Ea0, 0x00000010)
eeObj.WriteMem32(0x00584Ea4, 0x06010000)
eeObj.WriteMem32(0x00584Ea8, 0x00000010)
eeObj.WriteMem32(0x00584Eac, 0x06010000)
eeObj.WriteMem32(0x00584Eb0, 0x00000010)
eeObj.WriteMem32(0x00584Eb4, 0x06010000)
eeObj.WriteMem32(0x00584Eb8, 0x00000010)
eeObj.WriteMem32(0x00584Ebc, 0x06010000)
eeObj.WriteMem32(0x00584EC0, 0x00000010)
eeObj.WriteMem32(0x00584EC4, 0x06010000)
eeObj.WriteMem32(0x00584EC8, 0x00000010)
eeObj.WriteMem32(0x00584ECC, 0x06010000)
eeObj.WriteMem32(0x00584ED0, 0x00000010)
eeObj.WriteMem32(0x00584ED4, 0x06010000)
eeObj.WriteMem32(0x00584EE0, 0x00000010)
eeObj.WriteMem32(0x00584EE4, 0x06010000)
eeObj.WriteMem32(0x00584EF0, 0x00000010)
eeObj.WriteMem32(0x00584EF4, 0x06010000)
eeObj.WriteMem32(0x00584EF8, 0x00000010)
eeObj.WriteMem32(0x00584EFC, 0x06010000)
--Sugoroku glitch patch
eeObj.WriteMem32(0x00102230,0x00000000)
--No interlacing
eeObj.WriteMem32(0x00102298,0x30420000)

end
--Fix for upscaling glitches
emuObj.SetGsTitleFix( "forceSimpleFetch",  "reserved", {psm=0} )
emuObj.SetGsTitleFix( "fetchFromCurrBuff", "reserved", {psm=0} )

emuObj.SetGsTitleFix( "forceSimpleFetch", "reserved", { texMode=1  } )

emuObj.AddVsyncHook(patcher)